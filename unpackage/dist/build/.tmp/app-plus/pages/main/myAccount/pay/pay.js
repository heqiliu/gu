(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/main/myAccount/pay/pay"],{"20b9":function(t,e,a){"use strict";var n={"cmd-nav-bar":()=>a.e("components/cmd-nav-bar/cmd-nav-bar").then(a.bind(null,"e3e0"))},i=function(){var t=this,e=t.$createElement,n=(t._self._c,a("14df")),i=a("98b6"),o=a("095d"),r=a("095d"),s=a("095d");t._isMounted||(t.e0=function(e){t.payType=1},t.e1=function(e){t.payType=1},t.e2=function(e){t.payType=2},t.e3=function(e){t.alertActivityShow=2},t.e4=function(e){t.alertActivityShow=2}),t.$mp.data=Object.assign({},{$root:{m0:n,m1:i,m2:o,m3:r,m4:s}})},o=[];a.d(e,"b",function(){return i}),a.d(e,"c",function(){return o}),a.d(e,"a",function(){return n})},2683:function(t,e,a){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(a("287b"));function o(t){return t&&t.__esModule?t:{default:t}}var r=function(){return a.e("components/cmd-nav-bar/cmd-nav-bar").then(a.bind(null,"e3e0"))},s={components:{cmdNavBar:r},data:function(){return{payType:0,alertIsShow:!1,alertActivityShow:0,bankArray:[],bankIndex:0,payHistory:[],payActHistory:[],zfbReceiptInfo:{},yhkReceiptInfo:{},userZfb:"",zfbPayMoney:"",bankCard:"",bankMoney:"",zfbRemark:"",yhkRemark:"",isGoOnpay:!1,isGoOnpayType:"",qr:"",isRecharged:"",RichContent:""}},onLoad:function(){this.isRecharged=this.$store.state.userInfo.isRecharged,this.initData(),this.getHelp()},mounted:function(){var t=this;i.default.get("transaction/torecharge",{phone:this.$store.state.userInfo.phone}).then(function(e){e.data.data.activityRecharge.length>=1&&(t.isRecharged="Y");var a=t;e.data.data.receiptAccount.forEach(function(e){a.zfbReceiptInfo=e,t.qr=t.$store.state.webPath+"file/"+e.path})})},computed:{webPath:function(){return this.$store.state.webPath},adminPath:function(){return this.$store.state.adminPath}},methods:{initData:function(){var e=this;this.isGoOnpayType="",this.isGoOnpay=!1,t.showLoading({title:"",mask:!0}),i.default.get("AppPortfolioPage/rechargeOrWithdraw",{typeEnum:"RECHARGE"}).then(function(t){t.data.data.principalOrderVoList.length>=1&&(e.isRecharged="Y"),e.payHistory=t.data.data.principalOrderVoList,e.payActHistory=t.data.data.principalOrderVoList,e.yhkReceiptInfo=t.data.data.financeVo,e.zfbReceiptInfo=t.data.data.financeVo,e.qr=e.$store.state.webPath+"file/"+e.zfbReceiptInfo.alipayPath})},getQr:function(){var t=this;this.$store.state.webPath;i.default.get("principalOrder/getList",{"pageInfo.size":1e3,"pageInfo.isReturnPage":!1}).then(function(e){t.payHistory=e.data.data.records,t.payActHistory=e.data.data.records})},getHelp:function(){var t=this;i.default.get("website/help/getList",{type:"I_RECHARGE",status:!0,"pageInfo.size":1,"pageInfo.isReturnPage":!1}).then(function(e){t.RichContent=e.data.data.records[0].content})},bankPickerChange:function(t){n("log","bankPickerChange发送选择改变，携带值为",t.target.value," at pages\\main\\myAccount\\pay\\pay.vue:418"),this.index=t.target.value},changePayNum:function(t,e){this.alertActivityShow=1,"1"==t?this.zfbPayMoney=e:this.bankMoney=e},subApply:function(){var e=this;if(1==this.payType){if(""==this.userZfb)return void t.showModal({title:"提示",content:"支付宝账号不能为空",showCancel:!1});if(""==this.zfbPayMoney)return void t.showModal({title:"提示",content:"转账金额不能为空",showCancel:!1});t.showLoading({title:"提交中~"});var a="";a="10000"==this.zfbPayMoney?1:"20000"==this.zfbPayMoney?2:"30000"==this.zfbPayMoney?3:"",""!=a&&0!=this.alertActivityShow?i.default.get("transaction/activityRecharge",{holder:this.$store.state.userInfo.phone,type:"1001",cardNo:this.userZfb,amount:this.zfbPayMoney,activity:a,recepitCardNo:this.zfbReceiptInfo.account}).then(function(t){e.zfbRemark=t.data.data,e.alertIsShow=!0,e.initData()}):i.default.get("principalOrder/add",{transitionAccount:this.userZfb,accountType:"ALI_PAY",orderType:"RECHARGE",acceptAccount:this.zfbReceiptInfo.alipayAccounts,moneyAmount:this.zfbPayMoney}).then(function(a){t.showModal({title:"提示",content:a.data.data,showCancel:!1}),e.zfbRemark=a.data.data,e.alertIsShow=!0,e.initData()})}else if(2==this.payType){if(""==this.bankCard)return void t.showModal({title:"提示",content:"银行卡号不能为空",showCancel:!1});if(""==this.bankMoney)return void t.showModal({title:"提示",content:"转账金额不能为空",showCancel:!1});t.showLoading({title:"提交中~"});var n="";n="10000"==this.bankMoney?1:"20000"==this.bankMoney?2:"30000"==this.bankMoney?3:"",""!=n&&0!=this.alertActivityShow?i.default.get("transaction/activityRecharge",{holder:this.$store.state.userInfo.phone,type:"1002",cardNo:this.bankCard,amount:this.bankMoney,activity:n,recepitCardNo:this.yhkReceiptInfo.account}).then(function(t){e.yhkRemark=t.data.data,e.alertIsShow=!0,e.initData()}):i.default.get("principalOrder/add",{accountType:"BANK",orderType:"RECHARGE",transitionAccount:this.bankCard,moneyAmount:this.bankMoney,recepitCardNo:this.yhkReceiptInfo.bankAccounts}).then(function(t){e.yhkRemark=t.data.data,e.alertIsShow=!0,e.initData()})}},continuePay:function(t,e){1001==e.type?(this.payType=1,this.zfbPayMoney=e.amount,this.zfbRemark={remarkCode:e.remarkCode,id:e.id}):1002==e.type&&(this.payType=2,this.bankMoney=e.amount,this.yhkRemark={remarkCode:e.remarkCode,id:e.id}),this.isGoOnpayType=e.activity,this.isGoOnpay=!0,this.alertIsShow=!0},canclePay:function(e){var a=this;t.showModal({title:"提示",content:"请确认是否需要取消充值",success:function(n){if(n.confirm){t.showLoading({title:"提交中~"});var o={};o.id=e.id,o.activity=0==e.activity?"":0,i.default.get("transaction/cancelRecharge",o).then(function(e){t.showModal({title:"提示",content:"取消充值申请成功",showCancel:!1}),a.initData()})}}})},userTransfer:function(e){if(e){var a=this;t.showModal({title:"提示",content:"请确认是否已经转账",success:function(e){if(e.confirm){t.showLoading({title:"提交中~"});var n="";if(1==a.payType){n="10000"==a.zfbPayMoney?1:"20000"==a.zfbPayMoney?2:"30000"==a.zfbPayMoney?3:"",a.isGoOnpay&&(n=a.isGoOnpayType);var o={};o.id=a.zfbRemark.id,"0"!=n&&(o.activity=n),i.default.get("transaction/rechargeTwo",o).then(function(e){t.showModal({title:"提示",content:"支付宝确认充值申请成功",showCancel:!1}),a.alertIsShow=!1,a.initData(),a.resetPayInfo()})}else if(2==a.payType){n="10000"==a.bankMoney?1:"20000"==a.bankMoney?2:"30000"==a.bankMoney?3:"",a.isGoOnpay&&(n=a.isGoOnpayType);var r={};r.id=a.yhkRemark.id,"0"!=n&&(r.activity=n),i.default.get("transaction/rechargeTwo",r).then(function(e){t.showModal({title:"提示",content:"银行卡确认充值申请成功",showCancel:!1}),a.alertIsShow=!1,a.initData(),a.resetPayInfo()})}}}})}else this.alertIsShow=!1},uploadImg:function(){var e=this,a=e.webPath+"file/"+e.zfbReceiptInfo.alipayPath;n("log",a," at pages\\main\\myAccount\\pay\\pay.vue:684"),t.downloadFile({url:a,success:function(e){200===e.statusCode&&t.showToast({title:"已保存",position:"bottom",icon:"none",duration:2500})}})},resetPayInfo:function(){this.payType=0,this.userZfb="",this.zfbPayMoney="",this.zfbRemark="",this.yhkRemark="",this.bankCard="",this.bankMoney="",this.alertActivityShow=0}},filters:{timeZhuan:function(t){var e=new Date(t),a=e.getFullYear()+"-",n=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-",i=(e.getDate()<10?"0"+e.getDate():e.getDate())+" ";e.getHours(),e.getHours(),e.getMinutes(),e.getMinutes(),e.getSeconds(),e.getSeconds();return a+n+i}}};e.default=s}).call(this,a("6e42")["default"],a("0de9")["default"])},"6a04":function(t,e,a){"use strict";a.r(e);var n=a("2683"),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);e["default"]=i.a},"938b":function(t,e,a){"use strict";a.r(e);var n=a("20b9"),i=a("6a04");for(var o in i)"default"!==o&&function(t){a.d(e,t,function(){return i[t]})}(o);a("d102");var r,s=a("f0c5"),c=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"babb1e2a",null,!1,n["a"],r);e["default"]=c.exports},b64e:function(t,e,a){},d102:function(t,e,a){"use strict";var n=a("b64e"),i=a.n(n);i.a},f3a3:function(t,e,a){"use strict";(function(t){a("4851"),a("921b");n(a("66fd"));var e=n(a("938b"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("6e42")["createPage"])}},[["f3a3","common/runtime","common/vendor"]]]);