(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/main/myAccount/pay/pay"],{2820:function(t,e,a){},"439f":function(t,e,a){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(a("bda0"));function i(t){return t&&t.__esModule?t:{default:t}}var r=function(){return a.e("components/cmd-nav-bar/cmd-nav-bar").then(a.bind(null,"ed35"))},s={components:{cmdNavBar:r},data:function(){return{payType:0,alertIsShow:!1,alertActivityShow:0,bankArray:[],bankIndex:0,payHistory:[],payActHistory:[],zfbReceiptInfo:{},yhkReceiptInfo:{},userZfb:"",zfbPayMoney:"",bankCard:"",bankMoney:"",zfbRemark:"",yhkRemark:"",isGoOnpay:!1,isGoOnpayType:"",qr:""}},onLoad:function(){this.initData()},mounted:function(){var t=this;o.default.get("transaction/torecharge",{phone:this.$store.state.userInfo.phone}).then(function(e){var a=t;e.data.data.receiptAccount.forEach(function(e){a.zfbReceiptInfo=e,t.qr=t.$store.state.adminPath+"file/"+e.path})})},computed:{webPath:function(){return this.$store.state.webPath},adminPath:function(){return this.$store.state.adminPath}},methods:{initData:function(){var e=this;this.isGoOnpayType="",this.isGoOnpay=!1,t.showLoading({title:"",mask:!0}),o.default.get("transaction/torecharge",{phone:this.$store.state.userInfo.phone}).then(function(t){e.payHistory=t.data.data.rechargeRecord,e.payActHistory=t.data.data.activityRecharge;var a=e;t.data.data.receiptAccount.forEach(function(t){1002==t.type?a.zfbReceiptInfo=t:1001==t.type&&(a.yhkReceiptInfo=t)})})},getQr:function(){var t=this,e=this.$store.state.adminPath+"/file/";o.default.get("transaction/torecharge",{phone:this.$store.state.userInfo.phone}).then(function(a){t.payHistory=a.data.data.rechargeRecord,t.payActHistory=a.data.data.activityRecharge;var n=t;a.data.data.receiptAccount.forEach(function(a){1002==a.type?(n.zfbReceiptInfo=a,t.qr=e+a.path):1001==a.type&&(n.yhkReceiptInfo=a)})})},bankPickerChange:function(t){console.log(n("bankPickerChange发送选择改变，携带值为",t.target.value," at pages\\main\\myAccount\\pay\\pay.vue:381")),this.index=t.target.value},changePayNum:function(t,e){this.alertActivityShow=1,"1"==t?this.zfbPayMoney=e:this.bankMoney=e},subApply:function(){var e=this;if(1==this.payType){if(!this.zfbReceiptInfo.account)return void t.showModal({title:"提示",content:"暂不支持支付宝充值",showCancel:!1});if(""==this.userZfb)return void t.showModal({title:"提示",content:"支付宝账号不能为空",showCancel:!1});if(""==this.zfbPayMoney)return void t.showModal({title:"提示",content:"转账金额不能为空",showCancel:!1});t.showLoading({title:"提交中~"});var a="";a="10000"==this.zfbPayMoney?1:"20000"==this.zfbPayMoney?2:"30000"==this.zfbPayMoney?3:"",""!=a&&0!=this.alertActivityShow?o.default.get("transaction/activityRecharge",{holder:this.$store.state.userInfo.phone,type:"1001",cardNo:this.userZfb,amount:this.zfbPayMoney,activity:a,recepitCardNo:this.zfbReceiptInfo.account}).then(function(t){e.zfbRemark=t.data.data,e.alertIsShow=!0,e.initData()}):o.default.get("transaction/rechargeOne",{holder:this.$store.state.userInfo.phone,type:"1001",cardNo:this.userZfb,amount:this.zfbPayMoney,recepitCardNo:this.zfbReceiptInfo.account}).then(function(t){e.zfbRemark=t.data.data,e.alertIsShow=!0,e.initData()})}else if(2==this.payType){if(!this.yhkReceiptInfo.account)return void t.showModal({title:"提示",content:"暂不支持银行卡充值",showCancel:!1});if(""==this.bankCard)return void t.showModal({title:"提示",content:"银行卡号不能为空",showCancel:!1});if(""==this.bankMoney)return void t.showModal({title:"提示",content:"转账金额不能为空",showCancel:!1});t.showLoading({title:"提交中~"});var n="";n="10000"==this.bankMoney?1:"20000"==this.bankMoney?2:"30000"==this.bankMoney?3:"",""!=n&&0!=this.alertActivityShow?o.default.get("transaction/activityRecharge",{holder:this.$store.state.userInfo.phone,type:"1002",cardNo:this.bankCard,amount:this.bankMoney,activity:n,recepitCardNo:this.yhkReceiptInfo.account}).then(function(t){e.yhkRemark=t.data.data,e.alertIsShow=!0,e.initData()}):o.default.get("transaction/rechargeOne",{holder:this.$store.state.userInfo.phone,type:"1002",cardNo:this.bankCard,amount:this.bankMoney,recepitCardNo:this.yhkReceiptInfo.account}).then(function(t){e.yhkRemark=t.data.data,e.alertIsShow=!0,e.initData()})}},continuePay:function(t,e){1001==e.type?(this.payType=1,this.zfbPayMoney=e.amount,this.zfbRemark={remarkCode:e.remarkCode,id:e.id}):1002==e.type&&(this.payType=2,this.bankMoney=e.amount,this.yhkRemark={remarkCode:e.remarkCode,id:e.id}),this.isGoOnpayType=e.activity,this.isGoOnpay=!0,this.alertIsShow=!0},canclePay:function(e){var a=this;t.showModal({title:"提示",content:"请确认是否需要取消充值",success:function(n){if(n.confirm){t.showLoading({title:"提交中~"});var i={};i.id=e.id,i.activity=0==e.activity?"":0,o.default.get("transaction/cancelRecharge",i).then(function(e){t.showModal({title:"提示",content:"取消充值申请成功",showCancel:!1}),a.initData()})}}})},userTransfer:function(e){if(e){var a=this;t.showModal({title:"提示",content:"请确认是否已经转账",success:function(e){if(e.confirm){t.showLoading({title:"提交中~"});var n="";if(1==a.payType){n="10000"==a.zfbPayMoney?1:"20000"==a.zfbPayMoney?2:"30000"==a.zfbPayMoney?3:"",a.isGoOnpay&&(n=a.isGoOnpayType);var i={};i.id=a.zfbRemark.id,"0"!=n&&(i.activity=n),o.default.get("transaction/rechargeTwo",i).then(function(e){t.showModal({title:"提示",content:"支付宝确认充值申请成功",showCancel:!1}),a.alertIsShow=!1,a.initData(),a.resetPayInfo()})}else if(2==a.payType){n="10000"==a.bankMoney?1:"20000"==a.bankMoney?2:"30000"==a.bankMoney?3:"",a.isGoOnpay&&(n=a.isGoOnpayType);var r={};r.id=a.yhkRemark.id,"0"!=n&&(r.activity=n),o.default.get("transaction/rechargeTwo",r).then(function(e){t.showModal({title:"提示",content:"银行卡确认充值申请成功",showCancel:!1}),a.alertIsShow=!1,a.initData(),a.resetPayInfo()})}}}})}else this.alertIsShow=!1},uploadImg:function(){var e=this,a=e.adminPath+"file/"+e.zfbReceiptInfo.path;console.log(n(a," at pages\\main\\myAccount\\pay\\pay.vue:640")),t.downloadFile({url:a,success:function(e){200===e.statusCode&&t.showToast({title:"已保存",position:"bottom",icon:"none",duration:2500})}})},resetPayInfo:function(){this.payType=0,this.userZfb="",this.zfbPayMoney="",this.zfbRemark="",this.yhkRemark="",this.bankCard="",this.bankMoney="",this.alertActivityShow=0}},filters:{timeZhuan:function(t){var e=new Date(t),a=e.getFullYear()+"-",n=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-",o=(e.getDate()<10?"0"+e.getDate():e.getDate())+" ";e.getHours(),e.getHours(),e.getMinutes(),e.getMinutes(),e.getSeconds(),e.getSeconds();return a+n+o}}};e.default=s}).call(this,a("6e42")["default"],a("0de9")["default"])},"4f5a":function(t,e,a){"use strict";a.r(e);var n=a("bf1a"),o=a("ebbb");for(var i in o)"default"!==i&&function(t){a.d(e,t,function(){return o[t]})}(i);a("6401");var r=a("2877"),s=Object(r["a"])(o["default"],n["a"],n["b"],!1,null,"62b25392",null);e["default"]=s.exports},"5ede":function(t,e,a){"use strict";(function(t){a("3c6d"),a("921b");n(a("66fd"));var e=n(a("4f5a"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("6e42")["createPage"])},6401:function(t,e,a){"use strict";var n=a("2820"),o=a.n(n);o.a},bf1a:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e){t.payType=1},t.e1=function(e){t.payType=1},t.e2=function(e){t.payType=2},t.e3=function(e){t.alertActivityShow=2},t.e4=function(e){t.alertActivityShow=2})},o=[];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return o})},ebbb:function(t,e,a){"use strict";a.r(e);var n=a("439f"),o=a.n(n);for(var i in n)"default"!==i&&function(t){a.d(e,t,function(){return n[t]})}(i);e["default"]=o.a}},[["5ede","common/runtime","common/vendor"]]]);